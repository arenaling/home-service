"use strict";function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function _classCallCheck(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}angular.module("homeServiceApp",["homeServiceApp.auth","homeServiceApp.admin","homeServiceApp.constants","ngCookies","ngResource","ngSanitize","ui.router","ui.bootstrap","validation.match","angularMoment","ngFileUpload"]).config(["$urlRouterProvider","$locationProvider",function(a,b){a.otherwise("/"),b.html5Mode(!0)}]).run(["amMoment",function(a){a.changeLocale("id")}]),angular.module("homeServiceApp.admin",["homeServiceApp.auth","ui.router"]),angular.module("homeServiceApp.auth",["homeServiceApp.constants","homeServiceApp.util","ngCookies","ui.router"]).config(["$httpProvider",function(a){a.interceptors.push("authInterceptor")}]),angular.module("homeServiceApp.util",[]),angular.module("homeServiceApp").config(["$stateProvider",function(a){a.state("sales",{url:"/sales",templateUrl:"app/sales/sales.html",controller:"SalesComponent",controllerAs:"vm",authenticate:!0}).state("viewSales",{url:"/sales/:id",templateUrl:"app/sales/sales-view.html",controller:"SalesViewComponent",controllerAs:"vm",authenticate:!0})}]);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(){var a=function(){function a(b){_classCallCheck(this,a),this.users=b.query()}return a.$inject=["User"],_createClass(a,[{key:"delete",value:function(a){a.$remove(),this.users.splice(this.users.indexOf(a),1)}}]),a}();angular.module("homeServiceApp.admin").controller("AdminController",a)}(),angular.module("homeServiceApp").config(["$stateProvider",function(a){a.state("login",{url:"/login",templateUrl:"app/account/login/login.html",controller:"LoginController",controllerAs:"vm"}).state("logout",{url:"/logout?referrer",referrer:"main",template:"",controller:["$state","Auth",function(a,b){var c=a.params.referrer||a.current.referrer||"main";b.logout(),a.go(c)}]}).state("signup",{url:"/signup",templateUrl:"app/account/signup/signup.html",controller:"SignupController",controllerAs:"vm"}).state("settings",{url:"/settings",templateUrl:"app/account/settings/settings.html",controller:"SettingsController",controllerAs:"vm",authenticate:!0})}]).run(["$rootScope",function(a){a.$on("$stateChangeStart",function(a,b,c,d){"logout"===b.name&&d&&d.name&&!d.authenticate&&(b.referrer=d.name)})}]),angular.module("homeServiceApp.admin").config(["$stateProvider",function(a){a.state("admin",{url:"/admin",templateUrl:"app/admin/admin.html",controller:"AdminController",controllerAs:"admin",authenticate:"admin"})}]),function(){angular.module("homeServiceApp").controller("AgenciesController",["$scope","Agencies","Auth",function(a,b,c){a.agencies=b.query(),a.isAdmin=function(){return"admin"==c.getCurrentUser().role}}]).controller("AgencyViewCtrl",["$scope","$state","$stateParams","Agencies",function(b,c,d,e){b.agency=Agency.get({id:d.id}),b.deleteAgency=function(){Agency["delete"]({id:b.agency._id},function(){c.go("agencies")},a(b))}}]).controller("AgencyNewCtrl",["$scope","$state","Agencies",function(b,c,d){b.agency={},b.addAgency=function(){d.save(b.agency,function(a){c.go("viewAgency",{id:a._id})},a(b))}}]).controller("AgencyEditCtrl",["$scope","$state","$stateParams","Agencies",function(b,c,d,e){b.agency=e.get({id:d.id}),b.editAgency=function(){e.update({id:b.agency._id},b.agency,function(a){c.go("viewAgency",{id:a._id})},a(b))}}]);var a=function(a){return function(b){a.errors=b}}}(),angular.module("homeServiceApp").config(["$stateProvider",function(a){a.state("agencies",{url:"/agencies",templateUrl:"app/agencies/templates/agency-list.html",controller:"AgenciesController",controllerAs:"agencyCtrl",authenticate:!0}).state("newAgency",{url:"/agencies/new",templateUrl:"app/agencies/templates/agency-new.html",controller:"AgencyNewCtrl",authenticate:!0}).state("viewAgency",{url:"/agencies/:id",templateUrl:"app/agencies/templates/agency-edit.html",controller:"AgencyEditCtrl",authenticate:!0})}]),angular.module("homeServiceApp").factory("Agencies",["$resource",function(a){return a("/api/agencies/:id",null,{remove:{method:"DELETE"},get:{method:"GET"},query:{method:"GET",isArray:!0},save:{method:"POST"},"delete":{method:"DELETE"}})}]),function(a,b){a.module("homeServiceApp.constants",[]).constant("appConfig",{userRoles:["guest","user","admin"]})}(angular);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}();!function(){var a=function(){function a(b){_classCallCheck(this,a),this.$http=b,this.awesomeThings=[]}return a.$inject=["$http"],_createClass(a,[{key:"$onInit",value:function(){var a=this;this.$http.get("/api/things").then(function(b){a.awesomeThings=b.data})}},{key:"addThing",value:function(){this.newThing&&(this.$http.post("/api/things",{name:this.newThing}),this.newThing="")}},{key:"deleteThing",value:function(a){this.$http["delete"]("/api/things/"+a._id)}}]),a}();angular.module("homeServiceApp").component("main",{templateUrl:"app/main/main.html",controller:a})}(),angular.module("homeServiceApp").config(["$stateProvider",function(a){a.state("main",{url:"/",template:"<main></main>"})}]),function(){var a,b;angular.module("homeServiceApp").controller("SalesComponent",["$scope","$state","Sales","Auth","Agencies","Upload","$timeout",function(a,c,d,e,f,g,h){var i=e.getCurrentUser(),j={},k={};"agencies"==i.role?k.id_agencies=i.id_agency:"verificator"==i.role?k.status="1":"inputer"==i.role&&(k.status="2"),a.salesData=d.query(k),a.sales={panggilan:"Tuan"},a.currentUser=i,i.id_agency>0&&(j=f.get({id:i.id_agency})),a.isAdmin=function(){return"admin"==i.role},a.isAgency=function(){return"agencies"==i.role},a.isSameAgency=function(a){return"agencies"==i.role&&i.id_agency==a.id_agencies},a.isVerificator=function(){return"verificator"==i.role},a.isInputer=function(){return"inputer"==i.role},a.canAmbil=function(a){if(a.sedang_diambil==i._id)return!0;if(0==a.sedang_diambil){if("verificator"==i.role&&(null==a.hasil_verifikasi||""==a.hasil_verifikasi))return!0;if("inputer"==i.role&&null!==a.hasil_verifikasi&&""!==a.hasil_verifikasi&&"NOT OK"!==a.hasil_verifikasi)return!0}return!1},a.getStatus=function(a){return null==a.hasil_verifikasi||""==a.hasil_verifikasi?"Belum Diverifikasi":null!==a.hasil_verifikasi&&""!==a.hasil_verifikasi?"Sudah Diverifikasi":null!==a.inputer&&0!==a.inputer?"Sudah Diinput":void 0},a.addSales=function(){i.id_agency>0&&(this.sales.id_agencies=i.id_agency,this.sales.nama_agency=j.name),this.sales.tanggal_penyerahan=new Date,this.sales.status="Belum Diverifikasi",d.save(this.sales,function(a){c.go(c.current,{},{reload:!0})},function(a){return function(b){a.errors=b}})},a.upload=b(a,g,h),a.ambil=function(a){d.update({id:a._id},{sedang_diambil:i._id},function(b){c.go("viewSales",{id:a._id})},function(a){return function(b){a.errors=b}})}}]).controller("SalesViewComponent",["$scope","$state","$stateParams","Sales","Auth",function(a,b,c,d,e){a.sales=d.get({id:c.id});var f=e.getCurrentUser();a.isVerificator=function(){return"verificator"==f.role},a.isInputer=function(){return"inputer"==f.role},a.deleteSales=function(){d["delete"]({id:a.sales._id},function(){b.go("sales")},function(a){return function(b){a.errors=b}})},a.lepas=function(a){d.update({id:a._id},{sedang_diambil:0},function(a){b.go("sales")},function(a){return function(b){a.errors=b}})},a.updateSales=function(){"inputer"==f.role?(a.sales.inputer=f._id,a.sales.nama_inputer=f.name,a.sales.sedang_diambil=0):"verificator"==f.role&&(a.sales.verificator=f._id,a.sales.nama_verificator=f.name,a.sales.status="Sudah Diverifikasi",a.sales.sedang_diambil=0),d.update({id:a.sales._id},a.sales,function(a){b.go("sales")},function(a){return function(b){a.errors=b}})}}]),a=function(a){return function(b){a.errors=b}},b=function(b,c,d){return function(e,f){e&&!e.$error&&(f.file=e,e.upload=c.upload({url:"/api/sales/"+f._id+"/upload",file:e}),e.upload.then(function(a){d(function(){e.result=a.data})},function(c){c.status>0&&(console.log(c.status+": "+c.data),a(b)(c.status+": "+c.data))}),e.upload.progress(function(a){e.progress=Math.min(100,parseInt(100*a.loaded/a.total))}))}}}();var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),LoginController=function(){function a(b,c){_classCallCheck(this,a),this.user={},this.errors={},this.submitted=!1,this.Auth=b,this.$state=c}return a.$inject=["Auth","$state"],_createClass(a,[{key:"login",value:function(a){var b=this;this.submitted=!0,a.$valid&&this.Auth.login({email:this.user.email,password:this.user.password}).then(function(){b.$state.go("main")})["catch"](function(a){b.errors.other=a.message})}}]),a}();angular.module("homeServiceApp").controller("LoginController",LoginController),angular.module("homeServiceApp").factory("Sales",["$resource",function(a){return a("/api/sales/:id",null,{remove:{method:"DELETE"},get:{method:"GET"},query:{method:"GET",isArray:!0},save:{method:"POST"},update:{method:"PUT"},"delete":{method:"DELETE"}})}]);var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),SettingsController=function(){function a(b){_classCallCheck(this,a),this.errors={},this.submitted=!1,this.Auth=b}return a.$inject=["Auth"],_createClass(a,[{key:"changePassword",value:function(a){var b=this;this.submitted=!0,a.$valid&&this.Auth.changePassword(this.user.oldPassword,this.user.newPassword).then(function(){b.message="Password successfully changed."})["catch"](function(){a.password.$setValidity("mongoose",!1),b.errors.other="Incorrect password",b.message=""})}}]),a}();angular.module("homeServiceApp").controller("SettingsController",SettingsController),function(){function a(a,b,c,d,e,f,g){var h=f.safeCb,i={},j=e.userRoles||[];c.get("token")&&"/logout"!==a.path()&&(i=g.get());var k={login:function(a,e){var f=a.email,j=a.password;return b.post("/auth/local",{email:f,password:j}).then(function(a){return c.put("token",a.data.token),i=g.get(),i.$promise}).then(function(a){return h(e)(null,a),a})["catch"](function(a){return k.logout(),h(e)(a.data),d.reject(a.data)})},logout:function(){c.remove("token"),i={}},createUser:function(a,b){return g.save(a,function(a){return h(b)(null,i)},function(a){return k.logout(),h(b)(a)}).$promise},changePassword:function(a,b,c){return g.changePassword({id:i._id},{oldPassword:a,newPassword:b},function(){return h(c)(null)},function(a){return h(c)(a)}).$promise},getCurrentUser:function(a){if(0===arguments.length)return i;var b=i.hasOwnProperty("$promise")?i.$promise:i;return d.when(b).then(function(b){return h(a)(b),b},function(){return h(a)({}),{}})},isLoggedIn:function(a){return 0===arguments.length?i.hasOwnProperty("role"):k.getCurrentUser(null).then(function(b){var c=b.hasOwnProperty("role");return h(a)(c),c})},hasRole:function l(a,b){var l=function(a,b){return j.indexOf(a)>=j.indexOf(b)};return arguments.length<2?l(i.role,a):k.getCurrentUser(null).then(function(c){var d=c.hasOwnProperty("role")?l(c.role,a):!1;return h(b)(d),d})},isAdmin:function(){return k.hasRole.apply(k,[].concat.apply(["admin"],arguments))},getToken:function(){return c.get("token")}};return k}a.$inject=["$location","$http","$cookies","$q","appConfig","Util","User"],angular.module("homeServiceApp.auth").factory("Auth",a)}(),function(){function a(a,b,c,d,e){var f;return{request:function(a){return a.headers=a.headers||{},c.get("token")&&e.isSameOrigin(a.url)&&(a.headers.Authorization="Bearer "+c.get("token")),a},responseError:function(a){return 401===a.status&&((f||(f=d.get("$state"))).go("login"),c.remove("token")),b.reject(a)}}}a.$inject=["$rootScope","$q","$cookies","$injector","Util"],angular.module("homeServiceApp.auth").factory("authInterceptor",a)}(),function(){angular.module("homeServiceApp.auth").run(["$rootScope","$state","Auth",function(a,b,c){a.$on("$stateChangeStart",function(a,d){d.authenticate&&("string"==typeof d.authenticate?c.hasRole(d.authenticate,_.noop).then(function(d){return d?void 0:(a.preventDefault(),c.isLoggedIn(_.noop).then(function(a){b.go(a?"main":"login")}))}):c.isLoggedIn(_.noop).then(function(c){c||(a.preventDefault(),b.go("main"))}))})}])}(),function(){function a(a){return a("/api/users/:id/:controller",{id:"@_id"},{changePassword:{method:"PUT",params:{controller:"password"}},get:{method:"GET",params:{id:"me"}}})}a.$inject=["$resource"],angular.module("homeServiceApp.auth").factory("User",a)}(),angular.module("homeServiceApp").directive("footer",function(){return{templateUrl:"components/footer/footer.html",restrict:"E",link:function(a,b){b.addClass("footer")}}}),angular.module("homeServiceApp").factory("Modal",["$rootScope","$uibModal",function(a,b){function c(){var c=arguments.length<=0||void 0===arguments[0]?{}:arguments[0],d=arguments.length<=1||void 0===arguments[1]?"modal-default":arguments[1],e=a.$new();return angular.extend(e,c),b.open({templateUrl:"components/modal/modal.html",windowClass:d,scope:e})}return{confirm:{"delete":function(){var a=arguments.length<=0||void 0===arguments[0]?angular.noop:arguments[0];return function(){var b,d=Array.prototype.slice.call(arguments),e=d.shift();b=c({modal:{dismissable:!0,title:"Confirm Delete",html:"<p>Are you sure you want to delete <strong>"+e+"</strong> ?</p>",buttons:[{classes:"btn-danger",text:"Delete",click:function(a){b.close(a)}},{classes:"btn-default",text:"Cancel",click:function(a){b.dismiss(a)}}]}},"modal-danger"),b.result.then(function(b){a.apply(b,d)})}}}}}]),angular.module("homeServiceApp").directive("mongooseError",function(){return{restrict:"A",require:"ngModel",link:function(a,b,c,d){b.on("keydown",function(){return d.$setValidity("mongoose",!0)})}}}),function(){var a=function b(a){_classCallCheck(this,b),this.menu=[{title:"Home",state:"main"}],this.isCollapsed=!0,this.isLoggedIn=a.isLoggedIn,this.isAdmin=a.isAdmin,this.getCurrentUser=a.getCurrentUser};a.$inject=["Auth"],angular.module("homeServiceApp").controller("NavbarController",a)}(),angular.module("homeServiceApp").directive("navbar",function(){return{templateUrl:"components/navbar/navbar.html",restrict:"E",controller:"NavbarController",controllerAs:"nav"}});var _createClass=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),SignupController=function(){function a(b,c,d){_classCallCheck(this,a),this.user={},this.errors={},this.submitted=!1,this.Auth=b,this.agencies=c.query(),this.$state=d}return a.$inject=["Auth","Agencies","$state"],_createClass(a,[{key:"register",value:function(a){var b=this;if(this.submitted=!0,a.$valid){var c="user";""!=this.user.role&&(c=this.user.role),this.Auth.createUser({name:this.user.name,email:this.user.email,password:this.user.password,id_agency:this.user.id_agency,role:c}).then(function(){b.$state.go("main")})["catch"](function(c){c=c.data,b.errors={},c.name&&angular.forEach(c.fields,function(d){a[d].$setValidity("mongoose",!1),b.errors[d]=c.message})})}}}]),a}();angular.module("homeServiceApp").controller("SignupController",SignupController),function(){function a(a){var b={safeCb:function(a){return angular.isFunction(a)?a:angular.noop},urlParse:function(a){var b=document.createElement("a");return b.href=a,""===b.host&&(b.href=b.href),b},isSameOrigin:function(c,d){return c=b.urlParse(c),d=d&&[].concat(d)||[],d=d.map(b.urlParse),d.push(a.location),d=d.filter(function(a){return c.hostname===a.hostname&&c.port===a.port&&c.protocol===a.protocol}),d.length>=1}};return b}a.$inject=["$window"],angular.module("homeServiceApp.util").factory("Util",a)}(),angular.module("homeServiceApp").run(["$templateCache",function(a){a.put("app/account/login/login.html",'<div class=container><div class=row><div class=col-sm-12><h1>Login</h1><p>Accounts are reset on server restart from <code>server/config/seed.js</code>. Default account is <code>test@example.com</code> / <code>test</code></p><p>Admin account is <code>admin@example.com</code> / <code>admin</code></p></div><div class=col-sm-12><form class=form name=form ng-submit=vm.login(form) novalidate><div class=form-group><label>Email</label><input type=email name=email class=form-control ng-model=vm.user.email required></div><div class=form-group><label>Password</label><input type=password name=password class=form-control ng-model=vm.user.password required></div><div class="form-group has-error"><p class=help-block ng-show="form.email.$error.required && form.password.$error.required && vm.submitted">Please enter your email and password.</p><p class=help-block ng-show="form.email.$error.email && vm.submitted">Please enter a valid email.</p><p class=help-block>{{ vm.errors.other }}</p></div><div><button class="btn btn-inverse btn-lg btn-login" type=submit>Login</button> <a class="btn btn-default btn-lg btn-register" ui-sref=signup>Register</a></div></form></div></div><hr></div>'),a.put("app/account/settings/settings.html",'<div class=container><div class=row><div class=col-sm-12><h1>Change Password</h1></div><div class=col-sm-12><form class=form name=form ng-submit=vm.changePassword(form) novalidate><div class=form-group><label>Current Password</label><input type=password name=password class=form-control ng-model=vm.user.oldPassword mongoose-error><p class=help-block ng-show=form.password.$error.mongoose>{{ vm.errors.other }}</p></div><div class=form-group><label>New Password</label><input type=password name=newPassword class=form-control ng-model=vm.user.newPassword ng-minlength=3 required><p class=help-block ng-show="(form.newPassword.$error.minlength || form.newPassword.$error.required) && (form.newPassword.$dirty || vm.submitted)">Password must be at least 3 characters.</p></div><div class=form-group><label>Confirm New Password</label><input type=password name=confirmPassword class=form-control ng-model=vm.user.confirmPassword match=vm.user.newPassword ng-minlength=3 required><p class=help-block ng-show="form.confirmPassword.$error.match && vm.submitted">Passwords must match.</p></div><p class=help-block>{{ vm.message }}</p><button class="btn btn-lg btn-primary" type=submit>Save changes</button></form></div></div></div>'),a.put("app/account/signup/signup.html",'<div class=container><div class=row><div class=col-sm-12><h1>Sign up</h1></div><div class=col-sm-12><form class=form name=form ng-submit=vm.register(form) novalidate><div class=form-group ng-class="{ \'has-success\': form.name.$valid && vm.submitted,\n                                            \'has-error\': form.name.$invalid && vm.submitted }"><label>Name</label><input name=name class=form-control ng-model=vm.user.name required><p class=help-block ng-show="form.name.$error.required && vm.submitted">A name is required</p></div><div class=form-group ng-class="{ \'has-success\': form.email.$valid && vm.submitted,\n                                            \'has-error\': form.email.$invalid && vm.submitted }"><label>Email</label><input type=email name=email class=form-control ng-model=vm.user.email required mongoose-error><p class=help-block ng-show="form.email.$error.email && vm.submitted">Doesn\'t look like a valid email.</p><p class=help-block ng-show="form.email.$error.required && vm.submitted">What\'s your email address?</p><p class=help-block ng-show=form.email.$error.mongoose>{{ vm.errors.email }}</p></div><div class=form-group ng-class="{ \'has-success\': form.email.$valid && vm.submitted,\n                                            \'has-error\': form.email.$invalid && vm.submitted }"><label>Role</label><select name=role class=form-control ng-model=vm.user.role><option value=agencies selected>Agency</option><option value=verificator>Verificator</option><option value=inputer>Inputer</option><option value=user>Viewer</option><option value=admin>Admin</option></select></div><div class=form-group ng-class="{ \'has-success\': form.email.$valid && vm.submitted,\n                                            \'has-error\': form.email.$invalid && vm.submitted }"><label>Agency</label><select name=id_agency class=form-control ng-model=vm.user.id_agency><option value=0 selected>-- Bukan Agency --</option><option ng-repeat="agency in vm.agencies" value={{agency._id}}>{{agency.name}}</option></select></div><div class=form-group ng-class="{ \'has-success\': form.password.$valid && vm.submitted,\n                                            \'has-error\': form.password.$invalid && vm.submitted }"><label>Password</label><input type=password name=password class=form-control ng-model=vm.user.password ng-minlength=3 required mongoose-error><p class=help-block ng-show="(form.password.$error.minlength || form.password.$error.required) && vm.submitted">Password must be at least 3 characters.</p><p class=help-block ng-show=form.password.$error.mongoose>{{ vm.errors.password }}</p></div><div class=form-group ng-class="{ \'has-success\': form.confirmPassword.$valid && vm.submitted,\n                                            \'has-error\': form.confirmPassword.$invalid && vm.submitted }"><label>Confirm Password</label><input type=password name=confirmPassword class=form-control ng-model=vm.user.confirmPassword match=vm.user.password ng-minlength=3 required><p class=help-block ng-show="form.confirmPassword.$error.match && vm.submitted">Passwords must match.</p></div><div><button class="btn btn-inverse btn-lg btn-register" type=submit>Sign up</button> <a class="btn btn-default btn-lg btn-login" ui-sref=login>Login</a></div></form></div></div><hr></div>'),a.put("app/admin/admin.html",'<div class=container><p>The delete user and user index api routes are restricted to users with the \'admin\' role.</p><ul class="list-group user-list"><li class=list-group-item ng-repeat="user in admin.users"><div class=user-info><strong>{{user.name}}</strong><br><span class=text-muted>{{user.email}}</span></div><a ng-click=admin.delete(user) class=trash><span class="fa fa-trash fa-2x"></span></a></li></ul></div>'),a.put("app/agencies/templates/_agency_form.html",'<div ng-show=errors class="alert alert-danger errors" role=alert><strong>Error(s):</strong><p>{{errors}}</p></div><div class=row><div class=col-md-10><div class=form-group><label for=name class="col-sm-2 control-label">Nama</label><div class=col-sm-10><input ng-model=agency.name class=form-control id=name placeholder="agency name"></div></div><div class=form-group><label for=info class="col-sm-2 control-label">Keterangan</label><div class=col-sm-10><input ng-model=agency.info class=form-control id=info placeholder="Describe your agency..."></div></div><div class=form-group><label for=singkatan class="col-sm-2 control-label">Singkatan</label><div class=col-sm-10><input ng-model=agency.singkatan class=form-control id=singkatan placeholder=""></div></div><div class=form-group><div class="col-sm-offset-2 col-sm-10"><input type=submit class="btn btn-primary" value="Save"></div></div></div></div>'),a.put("app/agencies/templates/agency-edit.html","<div class=container><h1>Edit Agency</h1><form class=form-horizontal role=form ng-submit=editAgency()><div ng-include=\"'app/agencies/templates/_agency_form.html'\"></div></form></div>"),a.put("app/agencies/templates/agency-list.html",'<div class=container><div class=row><div class=col-lg-12><h1 class=page-header>Agencies</h1><button id=newformbutton ng-if=isAdmin() ui-sref=newAgency()>Tambah Data Baru</button><table class="table table-hover"><thead><tr><th>No.</th><th>Nama Agency</th><th>Singkatan</th><th>Keterangan</th></tr></thead><tbody><tr ng-repeat="agency in agencies"><td>{{agency._id}}</td><td>{{agency.name}}</td><td>{{agency.singkatan}}</td><td>{{agency.info}}</td></tr></tbody></table></div></div></div>'),a.put("app/agencies/templates/agency-new.html","<div class=container><h1>Buat Data Agency Baru</h1><form class=form-horizontal role=form ng-submit=addAgency()><div ng-include=\"'app/agencies/templates/_agency_form.html'\"></div></form></div>"),a.put("app/main/main.html",'<header class=hero-unit id=banner><div class=container><h1>Data Sales IndiHome</h1><p class=lead></p><!-- img src="assets/images/yeoman.462ccecb.png" alt="I\'m Yeoman" --></div></header><div class=container><div class=row><div class=col-lg-12></div></div></div>'),a.put("app/sales/_inputer_form.html",'<form class=form-horizontal name=form ng-submit=updateSales()><div class=col-lg-6><div class=form-group><label for=nomor_sc class="col-sm-4 control-label">No SC</label><div class=col-sm-8><input name=nomor_sc class=form-control ng-model=sales.nomor_sc id=nomor_sc placeholder="No SC"></div></div><div class=form-group><label for=nomor_pots class="col-sm-4 control-label">No POTS</label><div class=col-sm-8><input name=nomor_pots class=form-control ng-model=sales.nomor_pots id=nomor_pots placeholder="No POTS"></div></div></div><div class=col-lg-6><div class=form-group><label for=nomor_internet class="col-sm-4 control-label">No Internet</label><div class=col-sm-8><input name=nomor_internet class=form-control ng-model=sales.nomor_internet id=nomor_internet placeholder="No Internet"></div></div><div class=form-group><label for=status class="col-sm-4 control-label">status</label><div class=col-sm-8><input name=status class=form-control ng-model=sales.status id=status placeholder="Status"></div></div></div><div style="width:100%;text-align: right"><button type=button class="btn btn-primary" ng-click=lepas(sales)>Lepas</button> &nbsp;&nbsp;&nbsp;&nbsp; <button type=submit class="btn btn-primary">Simpan</button></div></form>'),a.put("app/sales/_sales_form.html",'<form class=form-horizontal name=form ng-submit=addSales($state)><div class=col-lg-6><div class=form-group><label for=so class="col-sm-4 control-label">SO</label><div class=col-sm-8><select name=so class=form-control ng-model=sales.so><option value=MYR>MYR</option><option value=IJK>IJK</option><option value=RKT>RKT</option><option value=JGR>JGR</option><option value=GBG>GBG</option><option value=MGO>MGO</option><option value=TDS>TDS</option><option value=KBL>KBL</option><option value=LKS>LKS</option></select></div></div><div class=form-group><label for=telepon class="col-sm-4 control-label">Telepon</label><div class=col-sm-8><input name=telepon class=form-control ng-model=sales.telepon id=telepon placeholder="Telepon"></div></div><div class=form-group><label for=panggilan class="col-sm-4 control-label">Panggilan</label><div class=col-sm-8><select name=panggilan id=panggilan class=form-control ng-model=sales.panggilan><option value=Tuan>Tuan</option><option value=Nyonya>Nyonya</option><option value=Nona>Nona</option></select></div></div><div class=form-group><label for=email class="col-sm-4 control-label">Email</label><div class=col-sm-8><input type=email name=email class=form-control ng-model=sales.email placeholder="Email"></div></div><div class=form-group><label for=tempat_lahir class="col-sm-4 control-label">Tempat Lahir</label><div class=col-sm-8><input name=tempat_lahir class=form-control ng-model=sales.tempat_lahir id=tempat_lahir placeholder="Tempat Lahir"></div></div><div class=form-group><label for=identitas class="col-sm-4 control-label">Identitas</label><div class=col-sm-8><select name=identitas id=identitas class=form-control ng-model=sales.identitas><option value=KTP>KTP</option><option value=SIM>SIM</option><option value=Passport>Passport</option></select></div></div><div class=form-group><label for=kadaluarsa_identitas class="col-sm-4 control-label">Kadaluarsa Identitas</label><div class=col-sm-8><input name=kadaluarsa_identitas class=form-control ng-model=sales.kadaluarsa_identitas id=kadaluarsa_identitas placeholder="Tanggal Kadaluarsa Identitas" data-date-format="yyyy-mm-dd"></div></div><div class=form-group><label for=alamat_instalasi class="col-sm-4 control-label">Alamat Instalasi</label><div class=col-sm-8><textarea name=alamat_instalasi class=form-control ng-model=sales.alamat_instalasi id=alamat_instalasi></textarea></div></div><div class=form-group><label for=paket class="col-sm-4 control-label">Paket</label><div class=col-sm-8><input name=paket class=form-control ng-model=sales.paket id=paket placeholder="Paket"></div></div><div class=form-group><label for=nama_sales class="col-sm-4 control-label">Nama Sales</label><div class=col-sm-8><input name=nama_sales class=form-control ng-model=sales.nama_sales id=nama_sales placeholder="Nama Sales"></div></div><div class=form-group><label for=nomor_referensi class="col-sm-4 control-label">Nomor Referensi</label><div class=col-sm-8><input name=nomor_referensi class=form-control ng-model=sales.nomor_referensi id=nomor_referensi placeholder="Nomor Referensi"></div></div><div class=form-group><label for=odp_referensi class="col-sm-4 control-label">ODP Referensi</label><div class=col-sm-8><input name=odp_referensi class=form-control ng-model=sales.odp_referensi id=odp_referensi placeholder="ODP Referensi"></div></div><div class=form-group><label for=manja class="col-sm-4 control-label">Manja</label><div class=col-sm-8><input name=manja class=form-control ng-model=sales.manja id=manja placeholder="Manja"></div></div></div><div class=col-lg-6><div class=form-group><label for=sto class="col-sm-4 control-label">STO</label><div class=col-sm-8><select name=sto class=form-control ng-model=sales.sto><option value=MYR>MYR</option><option value=IJK>IJK</option><option value=RKT>RKT</option><option value=JGR>JGR</option><option value=GBG>GBG</option><option value=MGO>MGO</option><option value=TDS>TDS</option><option value=KBL>KBL</option><option value=LKS>LKS</option><option value=WR>WR</option><option value=TPO>TPO</option><option value=PRK>PRK</option><option value=KND>KND</option><option value=KLA>KLA</option><option value=BBE>BBE</option><option value=KRP>KRP</option></select></div></div><div class=form-group><label for=contact_person class="col-sm-4 control-label">Contact Person</label><div class=col-sm-8><input name=contact_person class=form-control ng-model=sales.contact_person id=contact_person placeholder="Contact Person"></div></div><div class=form-group><label for=nama_pelanggan class="col-sm-4 control-label">Nama Pelanggan</label><div class=col-sm-8><input name=nama_pelanggan class=form-control ng-model=sales.nama_pelanggan id=nama_pelanggan placeholder="Nama Pelanggan"></div></div><div class=form-group><label for=profesi class="col-sm-4 control-label">Profesi</label><div class=col-sm-8><input name=profesi class=form-control ng-model=sales.profesi id=profesi placeholder="Profesi"></div></div><div class=form-group><label for=tanggal_lahir class="col-sm-4 control-label">Tanggal Lahir</label><div class=col-sm-8><input name=tanggal_lahir class=form-control ng-model=sales.tanggal_lahir id=tanggal_lahir placeholder="Tanggal Lahir" data-date-format="yyyy-mm-dd"></div></div><div class=form-group><label for=nomor_identitas class="col-sm-4 control-label">Nomor Identitas</label><div class=col-sm-8><input name=nomor_identitas class=form-control ng-model=sales.nomor_identitas id=nomor_identitas placeholder="Nomor Identitas"></div></div><div class=form-group><label for=nama_ibu_kandung class="col-sm-4 control-label">Nama Ibu Kandung</label><div class=col-sm-8><input name=nama_ibu_kandung class=form-control ng-model=sales.nama_ibu_kandung id=nama_ibu_kandung placeholder="Nama Ibu Kandung"></div></div><div class=form-group><label for=kelurahan class="col-sm-4 control-label">Kelurahan</label><div class=col-sm-8><input name=kelurahan class=form-control ng-model=sales.kelurahan id=kelurahan placeholder="Kelurahan"></div></div><div class=form-group><label for=k_contact class="col-sm-4 control-label">K Contact</label><div class=col-sm-8><input name=k_contact class=form-control ng-model=sales.k_contact id=k_contact placeholder="K Contact"></div></div><div class=form-group><label for=keterangan class="col-sm-4 control-label">Keterangan</label><div class=col-sm-8><textarea name=keterangan class=form-control ng-model=sales.keterangan id=keterangan></textarea></div></div><div class=form-group><label for=latitude class="col-sm-4 control-label">Latitude</label><div class=col-sm-8><input name=latitude class=form-control ng-model=sales.latitude id=latitude placeholder="Latitude"></div></div><div class=form-group><label for=longitude class="col-sm-4 control-label">Longitude</label><div class=col-sm-8><input name=longitude class=form-control ng-model=sales.longitude id=longitude placeholder="Longitude"></div></div></div><div style="width:100%;text-align: right"><button type=submit class="btn btn-primary">Simpan</button></div><script>jQuery(document).ready(function() {\n			$(\'#tanggal_lahir\').datepicker({startView: 3});\n			$(\'#kadaluarsa_identitas\').datepicker();\n		});</script></form>'),
a.put("app/sales/_verificator_form.html",'<form class=form-horizontal name=form ng-submit=updateSales()><div class=col-lg-6><div class=form-group><label for=hasil_verifikasi class="col-sm-4 control-label">Hasil Verifikasi</label><div class=col-sm-8><select name=hasil_verifikasi class=form-control ng-model=sales.hasil_verifikasi><option value=OK>OK</option><option value="NOT OK">NOT OK</option><option value=RNA>RNA</option></select></div></div></div><div class=col-lg-6><div class=form-group><label for=detail_hasil_verifikasi class="col-sm-4 control-label">Detail Hasil Verifikasi</label><div class=col-sm-8><textarea name=detail_hasil_verifikasi class=form-control ng-model=sales.detail_hasil_verifikasi id=detail_hasil_verifikasi></textarea></div></div></div><div style="width:100%;text-align: right"><button type=button class="btn btn-primary" ng-click=lepas(sales)>Lepas</button> &nbsp;&nbsp;&nbsp;&nbsp; <button type=submit class="btn btn-primary">Simpan</button></div></form>'),a.put("app/sales/sales-view.html",'<div class=form-horizontal><div class=container><div class=row><div class=col-lg-12><div class=col-lg-6><div class=form-group><label for=so class="col-sm-4 control-label">SO</label><div class=col-sm-8>{{sales.so}}</div></div><div class=form-group><label for=telepon class="col-sm-4 control-label">Telepon</label><div class=col-sm-8>{{sales.telepon}}</div></div><div class=form-group><label for=panggilan class="col-sm-4 control-label">Panggilan</label><div class=col-sm-8>{{sales.panggilan}}</div></div><div class=form-group><label for=email class="col-sm-4 control-label">Email</label><div class=col-sm-8>{{sales.email}}</div></div><div class=form-group><label for=tempat_lahir class="col-sm-4 control-label">Tempat Lahir</label><div class=col-sm-8>{{sales.tempat_lahir}}</div></div><div class=form-group><label for=identitas class="col-sm-4 control-label">Identitas</label><div class=col-sm-8>{{sales.identitas}}</div></div><div class=form-group><label for=kadaluarsa_identitas class="col-sm-4 control-label">Kadaluarsa Identitas</label><div class=col-sm-8><span>{{sales.identitas}}</span></div></div><div class=form-group><label for=alamat_instalasi class="col-sm-4 control-label">Alamat Instalasi</label><div class=col-sm-8><p>{{sales.alamat_instalasi}}</p></div></div><div class=form-group><label for=paket class="col-sm-4 control-label">Paket</label><div class=col-sm-8>{{sales.paket}}</div></div><div class=form-group><label for=nama_sales class="col-sm-4 control-label">Nama Sales</label><div class=col-sm-8>{{sales.nama_sales}}</div></div><div class=form-group><label for=nama_agency class="col-sm-4 control-label">Agencies</label><div class=col-sm-8><p>{{sales.nama_agency}}</p></div></div><div class=form-group><label for=nama_verificator class="col-sm-4 control-label">Verificator</label><div class=col-sm-8><p>{{sales.nama_verificator}}</p></div></div></div><div class=col-lg-6><div class=form-group><label for=sto class="col-sm-4 control-label">STO</label><div class=col-sm-8>{{sales.sto}}</div></div><div class=form-group><label for=contact_person class="col-sm-4 control-label">Contact Person</label><div class=col-sm-8>{{sales.contact_person}}</div></div><div class=form-group><label for=nama_pelanggan class="col-sm-4 control-label">Nama Pelanggan</label><div class=col-sm-8>{{sales.nama_pelanggan}}</div></div><div class=form-group><label for=profesi class="col-sm-4 control-label">Profesi</label><div class=col-sm-8>{{sales.profesi}}</div></div><div class=form-group><label for=tanggal_lahir class="col-sm-4 control-label">Tanggal Lahir</label><div class=col-sm-8><span>{{sales.tanggal_lahir | amDateFormat:\'D MMM YYYY\'}}</span></div></div><div class=form-group><label for=nomor_identitas class="col-sm-4 control-label">Nomor Identitas</label><div class=col-sm-8>{{sales.nomor_identitas}}</div></div><div class=form-group><label for=nama_ibu_kandung class="col-sm-4 control-label">Nama Ibu Kandung</label><div class=col-sm-8>{{sales.nama_ibu_kandung}}</div></div><div class=form-group><label for=k_contact class="col-sm-4 control-label">K Contact</label><div class=col-sm-8>{{sales.k_contact}}</div></div><div class=form-group><label for=nama_agency class="col-sm-4 control-label">Nama Agency</label><div class=col-sm-8>{{sales.nama_agency}}</div></div><div class=form-group><label for=keterangan class="col-sm-4 control-label">Keterangan</label><div class=col-sm-8><p>{{sales.keterangan}}</p></div></div><div class=form-group><label for=nama_inputer class="col-sm-4 control-label">Inputer</label><div class=col-sm-8><p>{{sales.nama_inputer}}</p></div></div><div class=form-group><label for=file_identitas class="col-sm-4 control-label">Scan Identitas</label><div class=col-sm-8><a ng-href={{sales.file_ktp}} target=_blank><img ngf-src=sales.file_ktp width=170px></a></div></div></div><div ng-if=isVerificator() ng-include="\'app/sales/_verificator_form.html\'" class=col-lg-12></div><div ng-if=isInputer() ng-include="\'app/sales/_inputer_form.html\'" class=col-lg-12></div></div></div></div></div>'),a.put("app/sales/sales.html",'<div class=container><div class=row><div class=col-lg-12><h1 class=page-header>Sales</h1><button id=newformbutton ng-if=isAgency() onclick=showNewForm()>Tambah Data Baru</button><div id=newformdiv style=display:none ng-if=isAgency()><div class="panel panel-default"><div class=panel-body><div class=col-lg-12><div ng-if=isAgency() ng-include="\'app/sales/_sales_form.html\'"></div></div></div></div></div><br><br><table class="table table-bordered table-hover"><thead><tr><th>No.</th><th>Tanggal Penyerahan</th><th>SO</th><th>STO</th><th>Nama Pelanggan</th><th>Email</th><!--th>Tempat Lahir</th>\r\n	      		<th>Tanggal Lahir</th>\r\n	      		<th>Profesi</th>\r\n	      		<th>Identitas</th>\r\n	      		<th>No. Identitas</th>\r\n	      		<th>Kadaluarsa Identitas</th>\r\n	      		<th>Nama Ibu Kandung</th>\r\n	      			<th>Alamat Instalasi</th --><th>K-Contact</th><th>Paket</th><th>Nama Sales</th><th>Agency</th><!-- th>Keterangan</th --><th>Hasil Verifikasi</th><!-- th>Kelurahan</th>\r\n	      		<th>Nomor Referensi</th>\r\n	      		<th>ODP Referensi</th>\r\n	      		<th>Latitude</th>\r\n	      		<th>Longitude</th>\r\n	      		<th>Manja</th --><th>Status</th><th>File</th><th>&nbsp;</th><!--th>No SC</th>\r\n	      		<th>No Pots</th>\r\n	      		<th>No Internet</th>\r\n	      		<th>Ket Input</th --></tr></thead><tbody><tr ng-repeat="sale in salesData"><td>{{sale._id}}</td><td>{{sale.tanggal_penyerahan | amDateFormat:\'D MMM YYYY\'}}</td><td>{{sale.so}}</td><td>{{sale.sto}}</td><td>{{sale.panggilan}} {{sale.nama_pelanggan}}</td><td>{{sale.email}}</td><td>{{sale.k-contact}}</td><td>{{sale.paket}}</td><td>{{sale.nama_sales}}</td><td>{{sale.nama_agency}}</td><td>{{sale.hasil_verifikasi}}</td><td>{{sale.status}}</td><td><div ng-if=isSameAgency(sale)><button ng-if="sale.file_ktp == null || sale.file_ktp == \'\'" accept=image/* ngf-max-size=10MB type=file class="btn btn-primary" ngf-select=upload($file,sale)>Upload on file select</button> <span ng-if="sale.file_ktp != null && sale.file_ktp != \'\'">File terupload</span></div></td><td><a ng-if=canAmbil(sale) ng-click=ambil(sale) style="cursor: pointer">Ambil</a> <a ng-if=isAdmin() ui-sref="viewSales({id: sale._id})" style="cursor: pointer">Lihat</a></td></tr></tbody></table></div></div></div><script>function showNewForm() {\r\n'+"		$('#newformdiv').css('display','block');\r\n		$('#newformbutton').css('display','none');\r\n	}\r\n\r\n	function hideNewForm() {\r\n		$('#newformdiv').css('display','none');\r\n		$('#newformbutton').css('display','block');	\r\n	}</script>"),a.put("components/footer/footer.html","<div class=container><p>Telkom Home Service</p></div>"),a.put("components/modal/modal.html",'<div class=modal-header><button ng-if=modal.dismissable type=button ng-click=$dismiss() class=close>&times;</button><h4 ng-if=modal.title ng-bind=modal.title class=modal-title></h4></div><div class=modal-body><p ng-if=modal.text ng-bind=modal.text></p><div ng-if=modal.html ng-bind-html=modal.html></div></div><div class=modal-footer><button ng-repeat="button in modal.buttons" ng-class=button.classes ng-click=button.click($event) ng-bind=button.text class=btn></button></div>'),a.put("components/navbar/navbar.html",'<div class="navbar navbar-default navbar-static-top" ng-controller=NavbarController><div class=container><div class=navbar-header><button class=navbar-toggle type=button ng-click="nav.isCollapsed = !nav.isCollapsed"><span class=sr-only>Toggle navigation</span> <span class=icon-bar></span> <span class=icon-bar></span> <span class=icon-bar></span></button> <a href=/ class=navbar-brand>home-service</a></div><div uib-collapse=nav.isCollapsed class="navbar-collapse collapse" id=navbar-main><ul class="nav navbar-nav"><li ng-repeat="item in nav.menu" ui-sref-active=active><a ui-sref={{item.state}}>{{item.title}}</a></li><li ng-show=nav.isAdmin() ui-sref-active=active><a ui-sref=admin>Admin</a></li><li ng-show=nav.isAdmin() ui-sref-active=active><a ui-sref=agencies>Agencies</a></li><li ng-show=nav.isLoggedIn() ui-sref-active=active><a ui-sref=sales>Sales</a></li></ul><ul class="nav navbar-nav navbar-right"><li ng-show=nav.isAdmin() ui-sref-active=active><a ui-sref=signup>Daftar User Baru</a></li><li ng-hide=nav.isLoggedIn() ui-sref-active=active><a ui-sref=login>Login</a></li><li ng-show=nav.isLoggedIn()><p class=navbar-text>Hello {{ nav.getCurrentUser().name }}</p></li><li ng-show=nav.isLoggedIn() ui-sref-active=active><a ui-sref=settings><span class="glyphicon glyphicon-cog"></span></a></li><li ng-show=nav.isLoggedIn()><a ui-sref=logout>Logout</a></li></ul></div></div></div>')}]);